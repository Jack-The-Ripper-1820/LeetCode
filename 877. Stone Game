class Solution {
    int dp[500][500];
    
    int helper(vector<int> const& piles, int start, int end) {
        if(start > end)
            return 0;
        
        if(start == end)
            return piles[start];
        
        if(dp[start][end] != -1)
            return dp[start][end];
        
        return dp[start][end] = max(piles[start] - helper(piles, start + 1, end), piles[end] - helper(piles, start, end - 1));
    }
public:
    bool stoneGame(vector<int>& piles) {
        memset(dp, -1, sizeof(dp));
        
        return helper(piles, 0, piles.size() - 1) >= 0;
    }
};
